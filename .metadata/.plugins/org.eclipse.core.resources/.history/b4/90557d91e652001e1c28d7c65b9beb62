import org.testng.annotations.Test;

import io.restassured.RestAssured;
import io.restassured.http.ContentType;
import io.restassured.http.Method;
import io.restassured.response.Response;
import io.restassured.response.ValidatableResponse;
import io.restassured.specification.RequestSpecification;
import static org.hamcrest.CoreMatchers.equalTo;
import org.apache.http.HttpStatus;
public class PostRequest {
RequestSpecification requestspecification;
Response response;
ValidatableResponse validateresponse;
// https://dummy.restapiexample.com/api/v1/create"

@Test	
public void GetUpdateUser()
	{
		
String jsonString = "{\"name\":\"jones\",\"salary\":\"4000\",\"age\":\"29\"}";
	 

		// base URI
		RestAssured.baseURI="http://dummy.restapiexample.com/api/v1/create";
		// request specification
		requestspecification = RestAssured.given();
		// content type
		requestspecification.contentType(ContentType.JSON);
		// body of the json string
		requestspecification.body(jsonBody);
		// call the post method
		response=requestspecification.request(Method.POST," ");
		// print the response body
		System.out.println(response.asPrettyString());
		//validate the response
		validateresponse=response.then();
		// check the status code
		validateresponse.statusCode(200);
		// check if the status is through HTTP
		validateresponse.statusLine("HTTP/1.1 200 OK");
		// get the respone name and body
		validateresponse.body("data.name", equalTo("jones"));
		// get the message attribute of the response
		validateresponse.body("message", equalTo("Successfully created"));
		
	}
}
